{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass InMemoryStore {\n  constructor() {\n    this.db = new Map();\n    this.getAllKeys = async () => {\n      return Array.from(this.db.keys());\n    };\n    this.multiGet = async keys => {\n      return keys.reduce((res, k) => (res.push([k, this.db.get(k)]), res), []);\n    };\n    this.multiRemove = async (keys, callback) => {\n      keys.forEach(k => this.db.delete(k));\n      typeof callback === 'function' && callback();\n    };\n    this.multiSet = async (entries, callback) => {\n      entries.forEach(_ref => {\n        let [key, value] = _ref;\n        this.setItem(key, value);\n      });\n      typeof callback === 'function' && callback();\n    };\n    this.setItem = async (key, value) => {\n      return this.db.set(key, value);\n    };\n    this.removeItem = async key => {\n      return this.db.delete(key);\n    };\n    this.getItem = async key => {\n      return this.db.get(key);\n    };\n  }\n}\nfunction createInMemoryStore() {\n  return new InMemoryStore();\n}\nexport { InMemoryStore, createInMemoryStore };","map":{"version":3,"names":["InMemoryStore","constructor","db","Map","getAllKeys","Array","from","keys","multiGet","reduce","res","k","push","get","multiRemove","callback","forEach","delete","multiSet","entries","_ref","key","value","setItem","set","removeItem","getItem","createInMemoryStore"],"sources":["/Users/raphaperso/Documents/Hub/amplify_test/notes/node_modules/@aws-amplify/datastore/src/storage/adapter/InMemoryStore.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport class InMemoryStore {\n    constructor() {\n        this.db = new Map();\n        this.getAllKeys = async () => {\n            return Array.from(this.db.keys());\n        };\n        this.multiGet = async (keys) => {\n            return keys.reduce((res, k) => (res.push([k, this.db.get(k)]), res), []);\n        };\n        this.multiRemove = async (keys, callback) => {\n            keys.forEach(k => this.db.delete(k));\n            typeof callback === 'function' && callback();\n        };\n        this.multiSet = async (entries, callback) => {\n            entries.forEach(([key, value]) => {\n                this.setItem(key, value);\n            });\n            typeof callback === 'function' && callback();\n        };\n        this.setItem = async (key, value) => {\n            return this.db.set(key, value);\n        };\n        this.removeItem = async (key) => {\n            return this.db.delete(key);\n        };\n        this.getItem = async (key) => {\n            return this.db.get(key);\n        };\n    }\n}\nexport function createInMemoryStore() {\n    return new InMemoryStore();\n}\n"],"mappings":"AAAA;AACA;AACO,MAAMA,aAAa,CAAC;EACvBC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,EAAE,GAAG,IAAIC,GAAG,EAAE;IACnB,IAAI,CAACC,UAAU,GAAG,YAAY;MAC1B,OAAOC,KAAK,CAACC,IAAI,CAAC,IAAI,CAACJ,EAAE,CAACK,IAAI,EAAE,CAAC;IAC7C,CAAS;IACD,IAAI,CAACC,QAAQ,GAAG,MAAOD,IAAI,IAAK;MAC5B,OAAOA,IAAI,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,MAAMD,GAAG,CAACE,IAAI,CAAC,CAACD,CAAC,EAAE,IAAI,CAACT,EAAE,CAACW,GAAG,CAACF,CAAC,CAAC,CAAC,CAAC,EAAED,GAAG,CAAC,EAAE,EAAE,CAAC;IACpF,CAAS;IACD,IAAI,CAACI,WAAW,GAAG,OAAOP,IAAI,EAAEQ,QAAQ,KAAK;MACzCR,IAAI,CAACS,OAAO,CAACL,CAAC,IAAI,IAAI,CAACT,EAAE,CAACe,MAAM,CAACN,CAAC,CAAC,CAAC;MACpC,OAAOI,QAAQ,KAAK,UAAU,IAAIA,QAAQ,EAAE;IACxD,CAAS;IACD,IAAI,CAACG,QAAQ,GAAG,OAAOC,OAAO,EAAEJ,QAAQ,KAAK;MACzCI,OAAO,CAACH,OAAO,CAACI,IAAA,IAAkB;QAAA,IAAjB,CAACC,GAAG,EAAEC,KAAK,CAAC,GAAAF,IAAA;QACzB,IAAI,CAACG,OAAO,CAACF,GAAG,EAAEC,KAAK,CAAC;MACxC,CAAa,CAAC;MACF,OAAOP,QAAQ,KAAK,UAAU,IAAIA,QAAQ,EAAE;IACxD,CAAS;IACD,IAAI,CAACQ,OAAO,GAAG,OAAOF,GAAG,EAAEC,KAAK,KAAK;MACjC,OAAO,IAAI,CAACpB,EAAE,CAACsB,GAAG,CAACH,GAAG,EAAEC,KAAK,CAAC;IAC1C,CAAS;IACD,IAAI,CAACG,UAAU,GAAG,MAAOJ,GAAG,IAAK;MAC7B,OAAO,IAAI,CAACnB,EAAE,CAACe,MAAM,CAACI,GAAG,CAAC;IACtC,CAAS;IACD,IAAI,CAACK,OAAO,GAAG,MAAOL,GAAG,IAAK;MAC1B,OAAO,IAAI,CAACnB,EAAE,CAACW,GAAG,CAACQ,GAAG,CAAC;IACnC,CAAS;EACT;AACA;AACO,SAASM,mBAAmBA,CAAA,EAAG;EAClC,OAAO,IAAI3B,aAAa,EAAE;AAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}