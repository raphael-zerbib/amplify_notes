{"ast":null,"code":"import React__default from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport { noop } from '@aws-amplify/ui';\nconst DEFAULT_ERROR_MESSAGE = '`useForm` must be called inside a `FormProvider`';\n/**\n * Utility hook corresponding to `FormProvider`, must be used within a `FormProvider`\n *\n * @internal Extend for public export. `useForm` and `UseForm` are an abstraction layer\n * on top of `useFormContext` and `UseFormReturn`, imported from `react-hook-form`\n *\n * @param options optional parameters\n * @returns `Form` utilities\n */\nfunction useForm() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const formContext = useFormContext();\n  const {\n    errorMessage,\n    onSubmit: _onSubmit\n  } = options;\n  if (!formContext) {\n    throw new Error(errorMessage !== null && errorMessage !== void 0 ? errorMessage : DEFAULT_ERROR_MESSAGE);\n  }\n  const {\n    formState,\n    getFieldState: _getFieldState,\n    getValues,\n    handleSubmit,\n    register,\n    reset,\n    setValue\n  } = formContext;\n  // Do not memoize, `formState` updates on all events\n  const getFieldState = name => {\n    const {\n      error,\n      ...fieldState\n    } = _getFieldState(name, formState);\n    const {\n      message: errorMessage\n    } = error !== null && error !== void 0 ? error : {};\n    return {\n      ...fieldState,\n      errorMessage,\n      hasError: !!errorMessage\n    };\n  };\n  // memoize `registerField` and `setFormValue` together,\n  // `register` and `setValue` maintain stable references\n  const {\n    registerField,\n    setFormValue\n  } = React__default.useMemo(() => {\n    return {\n      registerField: _ref => {\n        let {\n          name,\n          ...options\n        } = _ref;\n        return register(name, options);\n      },\n      setFormValue: _ref2 => {\n        let {\n          name,\n          value,\n          ...options\n        } = _ref2;\n        return setValue(name, value, options);\n      }\n    };\n  }, [register, setValue]);\n  const onSubmit = React__default.useCallback(event => {\n    const handler = _onSubmit ? handleSubmit(_onSubmit) : noop;\n    handler(event);\n  }, [_onSubmit, handleSubmit]);\n  return {\n    getFieldState,\n    getValues,\n    isValid: formState.isValid,\n    onSubmit,\n    registerField,\n    reset,\n    setFormValue\n  };\n}\nexport { DEFAULT_ERROR_MESSAGE, useForm as default };","map":{"version":3,"names":["React__default","useFormContext","noop","DEFAULT_ERROR_MESSAGE","useForm","options","arguments","length","undefined","formContext","errorMessage","onSubmit","_onSubmit","Error","formState","getFieldState","_getFieldState","getValues","handleSubmit","register","reset","setValue","name","error","fieldState","message","hasError","registerField","setFormValue","useMemo","_ref","_ref2","value","useCallback","event","handler","isValid","default"],"sources":["/Users/raphaperso/Documents/Hub/amplify_test/notes/node_modules/@aws-amplify/ui-react-core/dist/esm/components/FormCore/useForm.mjs"],"sourcesContent":["import React__default from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport { noop } from '@aws-amplify/ui';\n\nconst DEFAULT_ERROR_MESSAGE = '`useForm` must be called inside a `FormProvider`';\n/**\n * Utility hook corresponding to `FormProvider`, must be used within a `FormProvider`\n *\n * @internal Extend for public export. `useForm` and `UseForm` are an abstraction layer\n * on top of `useFormContext` and `UseFormReturn`, imported from `react-hook-form`\n *\n * @param options optional parameters\n * @returns `Form` utilities\n */\nfunction useForm(options = {}) {\n    const formContext = useFormContext();\n    const { errorMessage, onSubmit: _onSubmit } = options;\n    if (!formContext) {\n        throw new Error(errorMessage ?? DEFAULT_ERROR_MESSAGE);\n    }\n    const { formState, getFieldState: _getFieldState, getValues, handleSubmit, register, reset, setValue, } = formContext;\n    // Do not memoize, `formState` updates on all events\n    const getFieldState = (name) => {\n        const { error, ...fieldState } = _getFieldState(name, formState);\n        const { message: errorMessage } = error ?? {};\n        return { ...fieldState, errorMessage, hasError: !!errorMessage };\n    };\n    // memoize `registerField` and `setFormValue` together,\n    // `register` and `setValue` maintain stable references\n    const { registerField, setFormValue } = React__default.useMemo(() => {\n        return {\n            registerField: ({ name, ...options }) => register(name, options),\n            setFormValue: ({ name, value, ...options }) => setValue(name, value, options),\n        };\n    }, [register, setValue]);\n    const onSubmit = React__default.useCallback((event) => {\n        const handler = _onSubmit ? handleSubmit(_onSubmit) : noop;\n        handler(event);\n    }, [_onSubmit, handleSubmit]);\n    return {\n        getFieldState,\n        getValues,\n        isValid: formState.isValid,\n        onSubmit,\n        registerField,\n        reset,\n        setFormValue,\n    };\n}\n\nexport { DEFAULT_ERROR_MESSAGE, useForm as default };\n"],"mappings":"AAAA,OAAOA,cAAc,MAAM,OAAO;AAClC,SAASC,cAAc,QAAQ,iBAAiB;AAChD,SAASC,IAAI,QAAQ,iBAAiB;AAEtC,MAAMC,qBAAqB,GAAG,kDAAkD;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,OAAOA,CAAA,EAAe;EAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACzB,MAAMG,WAAW,GAAGR,cAAc,CAAC,CAAC;EACpC,MAAM;IAAES,YAAY;IAAEC,QAAQ,EAAEC;EAAU,CAAC,GAAGP,OAAO;EACrD,IAAI,CAACI,WAAW,EAAE;IACd,MAAM,IAAII,KAAK,CAACH,YAAY,aAAZA,YAAY,cAAZA,YAAY,GAAIP,qBAAqB,CAAC;EAC1D;EACA,MAAM;IAAEW,SAAS;IAAEC,aAAa,EAAEC,cAAc;IAAEC,SAAS;IAAEC,YAAY;IAAEC,QAAQ;IAAEC,KAAK;IAAEC;EAAU,CAAC,GAAGZ,WAAW;EACrH;EACA,MAAMM,aAAa,GAAIO,IAAI,IAAK;IAC5B,MAAM;MAAEC,KAAK;MAAE,GAAGC;IAAW,CAAC,GAAGR,cAAc,CAACM,IAAI,EAAER,SAAS,CAAC;IAChE,MAAM;MAAEW,OAAO,EAAEf;IAAa,CAAC,GAAGa,KAAK,aAALA,KAAK,cAALA,KAAK,GAAI,CAAC,CAAC;IAC7C,OAAO;MAAE,GAAGC,UAAU;MAAEd,YAAY;MAAEgB,QAAQ,EAAE,CAAC,CAAChB;IAAa,CAAC;EACpE,CAAC;EACD;EACA;EACA,MAAM;IAAEiB,aAAa;IAAEC;EAAa,CAAC,GAAG5B,cAAc,CAAC6B,OAAO,CAAC,MAAM;IACjE,OAAO;MACHF,aAAa,EAAEG,IAAA;QAAA,IAAC;UAAER,IAAI;UAAE,GAAGjB;QAAQ,CAAC,GAAAyB,IAAA;QAAA,OAAKX,QAAQ,CAACG,IAAI,EAAEjB,OAAO,CAAC;MAAA;MAChEuB,YAAY,EAAEG,KAAA;QAAA,IAAC;UAAET,IAAI;UAAEU,KAAK;UAAE,GAAG3B;QAAQ,CAAC,GAAA0B,KAAA;QAAA,OAAKV,QAAQ,CAACC,IAAI,EAAEU,KAAK,EAAE3B,OAAO,CAAC;MAAA;IACjF,CAAC;EACL,CAAC,EAAE,CAACc,QAAQ,EAAEE,QAAQ,CAAC,CAAC;EACxB,MAAMV,QAAQ,GAAGX,cAAc,CAACiC,WAAW,CAAEC,KAAK,IAAK;IACnD,MAAMC,OAAO,GAAGvB,SAAS,GAAGM,YAAY,CAACN,SAAS,CAAC,GAAGV,IAAI;IAC1DiC,OAAO,CAACD,KAAK,CAAC;EAClB,CAAC,EAAE,CAACtB,SAAS,EAAEM,YAAY,CAAC,CAAC;EAC7B,OAAO;IACHH,aAAa;IACbE,SAAS;IACTmB,OAAO,EAAEtB,SAAS,CAACsB,OAAO;IAC1BzB,QAAQ;IACRgB,aAAa;IACbP,KAAK;IACLQ;EACJ,CAAC;AACL;AAEA,SAASzB,qBAAqB,EAAEC,OAAO,IAAIiC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}