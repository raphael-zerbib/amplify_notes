{"ast":null,"code":"import * as React from 'react';\nimport { isFunction } from '@aws-amplify/ui';\nimport { useSetUserAgent, AuthenticatorProvider, useAuthenticator, useAuthenticatorInitMachine } from '@aws-amplify/ui-react-core';\nimport { VERSION } from '../../version.mjs';\nimport { useDeprecationWarning } from '../../hooks/useDeprecationWarning.mjs';\nimport { CustomComponentsContext } from './hooks/useCustomComponents/useCustomComponents.mjs';\nimport '../../primitives/View/View.mjs';\nimport { Router } from './Router/Router.mjs';\nimport { SetupTotp } from './SetupTotp/SetupTotp.mjs';\nimport { SignIn } from './SignIn/SignIn.mjs';\nimport { SignUp } from './SignUp/SignUp.mjs';\nimport { ForceNewPassword } from './ForceNewPassword/ForceNewPassword.mjs';\nimport './ForgotPassword/ConfirmResetPassword.mjs';\nimport { ForgotPassword } from './ForgotPassword/ForgotPassword.mjs';\nimport { defaultComponents } from './hooks/useCustomComponents/defaultComponents.mjs';\n\n// `AuthenticatorInternal` exists to give access to the context returned via `useAuthenticator`,\n// which allows the `Authenticator` to just return `children` if a user is authenticated.\n// Once the `Provider` is removed from the `Authenticator` component and exported as\n// `AuthenticatorProvider`, this component should be renamed to `Authenticator`.\nfunction AuthenticatorInternal(_ref) {\n  let {\n    children,\n    className,\n    components: customComponents,\n    formFields,\n    hideSignUp,\n    initialState,\n    loginMechanisms,\n    passwordSettings,\n    signUpAttributes,\n    services,\n    socialProviders,\n    variation\n  } = _ref;\n  useDeprecationWarning({\n    message: 'The `passwordSettings` prop has been deprecated and will be removed in a future major version of Amplify UI.',\n    // shouldWarn: !!passwordSettings,\n    /**\n     * @migration turn off until getConfig returns zero config\n     */\n    shouldWarn: false\n  });\n  const {\n    route,\n    signOut,\n    user\n  } = useAuthenticator(_ref2 => {\n    let {\n      route,\n      signOut,\n      user\n    } = _ref2;\n    return [route, signOut, user];\n  });\n  useAuthenticatorInitMachine({\n    initialState,\n    loginMechanisms,\n    passwordSettings,\n    services,\n    signUpAttributes,\n    socialProviders,\n    formFields\n  });\n  const value = React.useMemo(() => ({\n    components: {\n      ...defaultComponents,\n      ...customComponents\n    }\n  }), [customComponents]);\n  const isAuthenticatedRoute = route === 'authenticated' || route === 'signOut';\n  if (isAuthenticatedRoute) {\n    // `Authenticator` might not have user defined `children` for non SPA use cases.\n    if (!children) {\n      // @ts-ignore\n      return null;\n    }\n    return React.createElement(React.Fragment, null, isFunction(children) ? children({\n      signOut,\n      user\n    }) // children is a render prop\n    : children);\n  }\n  return React.createElement(CustomComponentsContext.Provider, {\n    value: value\n  }, React.createElement(Router, {\n    className: className,\n    hideSignUp: hideSignUp,\n    variation: variation\n  }));\n}\n/**\n * [ðŸ“– Docs](https://ui.docs.amplify.aws/react/connected-components/authenticator)\n */\nfunction Authenticator(props) {\n  useSetUserAgent({\n    componentName: 'Authenticator',\n    packageName: 'react',\n    version: VERSION\n  });\n  return React.createElement(AuthenticatorProvider, null, React.createElement(AuthenticatorInternal, {\n    ...props\n  }));\n}\nAuthenticator.Provider = AuthenticatorProvider;\nAuthenticator.ForgotPassword = ForgotPassword;\nAuthenticator.SetupTotp = SetupTotp;\nAuthenticator.SignIn = SignIn;\nAuthenticator.SignUp = SignUp;\nAuthenticator.ForceNewPassword = ForceNewPassword;\nexport { Authenticator, AuthenticatorInternal };","map":{"version":3,"names":["React","isFunction","useSetUserAgent","AuthenticatorProvider","useAuthenticator","useAuthenticatorInitMachine","VERSION","useDeprecationWarning","CustomComponentsContext","Router","SetupTotp","SignIn","SignUp","ForceNewPassword","ForgotPassword","defaultComponents","AuthenticatorInternal","_ref","children","className","components","customComponents","formFields","hideSignUp","initialState","loginMechanisms","passwordSettings","signUpAttributes","services","socialProviders","variation","message","shouldWarn","route","signOut","user","_ref2","value","useMemo","isAuthenticatedRoute","createElement","Fragment","Provider","Authenticator","props","componentName","packageName","version"],"sources":["/Users/raphaperso/Documents/Hub/amplify_test/notes/node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/Authenticator.mjs"],"sourcesContent":["import * as React from 'react';\nimport { isFunction } from '@aws-amplify/ui';\nimport { useSetUserAgent, AuthenticatorProvider, useAuthenticator, useAuthenticatorInitMachine } from '@aws-amplify/ui-react-core';\nimport { VERSION } from '../../version.mjs';\nimport { useDeprecationWarning } from '../../hooks/useDeprecationWarning.mjs';\nimport { CustomComponentsContext } from './hooks/useCustomComponents/useCustomComponents.mjs';\nimport '../../primitives/View/View.mjs';\nimport { Router } from './Router/Router.mjs';\nimport { SetupTotp } from './SetupTotp/SetupTotp.mjs';\nimport { SignIn } from './SignIn/SignIn.mjs';\nimport { SignUp } from './SignUp/SignUp.mjs';\nimport { ForceNewPassword } from './ForceNewPassword/ForceNewPassword.mjs';\nimport './ForgotPassword/ConfirmResetPassword.mjs';\nimport { ForgotPassword } from './ForgotPassword/ForgotPassword.mjs';\nimport { defaultComponents } from './hooks/useCustomComponents/defaultComponents.mjs';\n\n// `AuthenticatorInternal` exists to give access to the context returned via `useAuthenticator`,\n// which allows the `Authenticator` to just return `children` if a user is authenticated.\n// Once the `Provider` is removed from the `Authenticator` component and exported as\n// `AuthenticatorProvider`, this component should be renamed to `Authenticator`.\nfunction AuthenticatorInternal({ children, className, components: customComponents, formFields, hideSignUp, initialState, loginMechanisms, passwordSettings, signUpAttributes, services, socialProviders, variation, }) {\n    useDeprecationWarning({\n        message: 'The `passwordSettings` prop has been deprecated and will be removed in a future major version of Amplify UI.',\n        // shouldWarn: !!passwordSettings,\n        /**\n         * @migration turn off until getConfig returns zero config\n         */\n        shouldWarn: false,\n    });\n    const { route, signOut, user } = useAuthenticator(({ route, signOut, user }) => [route, signOut, user]);\n    useAuthenticatorInitMachine({\n        initialState,\n        loginMechanisms,\n        passwordSettings,\n        services,\n        signUpAttributes,\n        socialProviders,\n        formFields,\n    });\n    const value = React.useMemo(() => ({ components: { ...defaultComponents, ...customComponents } }), [customComponents]);\n    const isAuthenticatedRoute = route === 'authenticated' || route === 'signOut';\n    if (isAuthenticatedRoute) {\n        // `Authenticator` might not have user defined `children` for non SPA use cases.\n        if (!children) {\n            // @ts-ignore\n            return null;\n        }\n        return (React.createElement(React.Fragment, null, isFunction(children)\n            ? children({ signOut, user }) // children is a render prop\n            : children));\n    }\n    return (React.createElement(CustomComponentsContext.Provider, { value: value },\n        React.createElement(Router, { className: className, hideSignUp: hideSignUp, variation: variation })));\n}\n/**\n * [ðŸ“– Docs](https://ui.docs.amplify.aws/react/connected-components/authenticator)\n */\nfunction Authenticator(props) {\n    useSetUserAgent({\n        componentName: 'Authenticator',\n        packageName: 'react',\n        version: VERSION,\n    });\n    return (React.createElement(AuthenticatorProvider, null,\n        React.createElement(AuthenticatorInternal, { ...props })));\n}\nAuthenticator.Provider = AuthenticatorProvider;\nAuthenticator.ForgotPassword = ForgotPassword;\nAuthenticator.SetupTotp = SetupTotp;\nAuthenticator.SignIn = SignIn;\nAuthenticator.SignUp = SignUp;\nAuthenticator.ForceNewPassword = ForceNewPassword;\n\nexport { Authenticator, AuthenticatorInternal };\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,eAAe,EAAEC,qBAAqB,EAAEC,gBAAgB,EAAEC,2BAA2B,QAAQ,4BAA4B;AAClI,SAASC,OAAO,QAAQ,mBAAmB;AAC3C,SAASC,qBAAqB,QAAQ,uCAAuC;AAC7E,SAASC,uBAAuB,QAAQ,qDAAqD;AAC7F,OAAO,gCAAgC;AACvC,SAASC,MAAM,QAAQ,qBAAqB;AAC5C,SAASC,SAAS,QAAQ,2BAA2B;AACrD,SAASC,MAAM,QAAQ,qBAAqB;AAC5C,SAASC,MAAM,QAAQ,qBAAqB;AAC5C,SAASC,gBAAgB,QAAQ,yCAAyC;AAC1E,OAAO,2CAA2C;AAClD,SAASC,cAAc,QAAQ,qCAAqC;AACpE,SAASC,iBAAiB,QAAQ,mDAAmD;;AAErF;AACA;AACA;AACA;AACA,SAASC,qBAAqBA,CAAAC,IAAA,EAA0L;EAAA,IAAzL;IAAEC,QAAQ;IAAEC,SAAS;IAAEC,UAAU,EAAEC,gBAAgB;IAAEC,UAAU;IAAEC,UAAU;IAAEC,YAAY;IAAEC,eAAe;IAAEC,gBAAgB;IAAEC,gBAAgB;IAAEC,QAAQ;IAAEC,eAAe;IAAEC;EAAW,CAAC,GAAAb,IAAA;EAClNV,qBAAqB,CAAC;IAClBwB,OAAO,EAAE,8GAA8G;IACvH;IACA;AACR;AACA;IACQC,UAAU,EAAE;EAChB,CAAC,CAAC;EACF,MAAM;IAAEC,KAAK;IAAEC,OAAO;IAAEC;EAAK,CAAC,GAAG/B,gBAAgB,CAACgC,KAAA;IAAA,IAAC;MAAEH,KAAK;MAAEC,OAAO;MAAEC;IAAK,CAAC,GAAAC,KAAA;IAAA,OAAK,CAACH,KAAK,EAAEC,OAAO,EAAEC,IAAI,CAAC;EAAA,EAAC;EACvG9B,2BAA2B,CAAC;IACxBmB,YAAY;IACZC,eAAe;IACfC,gBAAgB;IAChBE,QAAQ;IACRD,gBAAgB;IAChBE,eAAe;IACfP;EACJ,CAAC,CAAC;EACF,MAAMe,KAAK,GAAGrC,KAAK,CAACsC,OAAO,CAAC,OAAO;IAAElB,UAAU,EAAE;MAAE,GAAGL,iBAAiB;MAAE,GAAGM;IAAiB;EAAE,CAAC,CAAC,EAAE,CAACA,gBAAgB,CAAC,CAAC;EACtH,MAAMkB,oBAAoB,GAAGN,KAAK,KAAK,eAAe,IAAIA,KAAK,KAAK,SAAS;EAC7E,IAAIM,oBAAoB,EAAE;IACtB;IACA,IAAI,CAACrB,QAAQ,EAAE;MACX;MACA,OAAO,IAAI;IACf;IACA,OAAQlB,KAAK,CAACwC,aAAa,CAACxC,KAAK,CAACyC,QAAQ,EAAE,IAAI,EAAExC,UAAU,CAACiB,QAAQ,CAAC,GAChEA,QAAQ,CAAC;MAAEgB,OAAO;MAAEC;IAAK,CAAC,CAAC,CAAC;IAAA,EAC5BjB,QAAQ,CAAC;EACnB;EACA,OAAQlB,KAAK,CAACwC,aAAa,CAAChC,uBAAuB,CAACkC,QAAQ,EAAE;IAAEL,KAAK,EAAEA;EAAM,CAAC,EAC1ErC,KAAK,CAACwC,aAAa,CAAC/B,MAAM,EAAE;IAAEU,SAAS,EAAEA,SAAS;IAAEI,UAAU,EAAEA,UAAU;IAAEO,SAAS,EAAEA;EAAU,CAAC,CAAC,CAAC;AAC5G;AACA;AACA;AACA;AACA,SAASa,aAAaA,CAACC,KAAK,EAAE;EAC1B1C,eAAe,CAAC;IACZ2C,aAAa,EAAE,eAAe;IAC9BC,WAAW,EAAE,OAAO;IACpBC,OAAO,EAAEzC;EACb,CAAC,CAAC;EACF,OAAQN,KAAK,CAACwC,aAAa,CAACrC,qBAAqB,EAAE,IAAI,EACnDH,KAAK,CAACwC,aAAa,CAACxB,qBAAqB,EAAE;IAAE,GAAG4B;EAAM,CAAC,CAAC,CAAC;AACjE;AACAD,aAAa,CAACD,QAAQ,GAAGvC,qBAAqB;AAC9CwC,aAAa,CAAC7B,cAAc,GAAGA,cAAc;AAC7C6B,aAAa,CAACjC,SAAS,GAAGA,SAAS;AACnCiC,aAAa,CAAChC,MAAM,GAAGA,MAAM;AAC7BgC,aAAa,CAAC/B,MAAM,GAAGA,MAAM;AAC7B+B,aAAa,CAAC9B,gBAAgB,GAAGA,gBAAgB;AAEjD,SAAS8B,aAAa,EAAE3B,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}