{"ast":null,"code":"import { ComponentClassName, classNames } from '@aws-amplify/ui';\nimport * as React from 'react';\nimport debounce from 'lodash/debounce.js';\nimport { Flex } from '../Flex/Flex.mjs';\nimport { Grid } from '../Grid/Grid.mjs';\nimport { Text } from '../Text/Text.mjs';\nimport { Pagination } from '../Pagination/Pagination.mjs';\nimport { usePagination } from '../Pagination/usePagination.mjs';\nimport { SearchField } from '../SearchField/SearchField.mjs';\nimport { ComponentText } from '../shared/constants.mjs';\nimport { strHasLength } from '../shared/utils.mjs';\nimport { getPageCount, getItemsAtPage, itemHasText } from './utils.mjs';\nconst DEFAULT_PAGE_SIZE = 10;\nconst TYPEAHEAD_DELAY_MS = 300;\nconst ListCollection = _ref => {\n  let {\n    children,\n    direction = 'column',\n    items,\n    ...rest\n  } = _ref;\n  return React.createElement(Flex, {\n    direction: direction,\n    ...rest\n  }, Array.isArray(items) ? items.map(children) : null);\n};\nconst GridCollection = _ref2 => {\n  let {\n    children,\n    items,\n    ...rest\n  } = _ref2;\n  return React.createElement(Grid, {\n    ...rest\n  }, Array.isArray(items) ? items.map(children) : null);\n};\nconst renderCollectionOrNoResultsFound = (collection, items, searchNoResultsFound) => {\n  if (items.length) {\n    return collection;\n  }\n  if (searchNoResultsFound) {\n    return searchNoResultsFound;\n  }\n  return React.createElement(Flex, {\n    justifyContent: \"center\"\n  }, React.createElement(Text, null, ComponentText.Collection.searchNoResultsFound));\n};\n/**\n * [ðŸ“– Docs](https://ui.docs.amplify.aws/react/components/collection)\n */\nconst Collection = _ref3 => {\n  let {\n    className,\n    isSearchable,\n    isPaginated,\n    items,\n    itemsPerPage = DEFAULT_PAGE_SIZE,\n    searchFilter = itemHasText,\n    searchLabel = ComponentText.Collection.searchButtonLabel,\n    searchNoResultsFound,\n    searchPlaceholder,\n    type = 'list',\n    testId,\n    ...rest\n  } = _ref3;\n  const [searchText, setSearchText] = React.useState();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const onSearch = React.useCallback(debounce(setSearchText, TYPEAHEAD_DELAY_MS), [setSearchText]);\n  // Make sure that items are iterable\n  items = Array.isArray(items) ? items : [];\n  // Filter items by text\n  if (isSearchable && strHasLength(searchText)) {\n    items = items.filter(item => searchFilter(item, searchText));\n  }\n  // Pagination\n  const pagination = usePagination({\n    totalPages: getPageCount(items.length, itemsPerPage)\n  });\n  if (isPaginated) {\n    items = getItemsAtPage(items, pagination.currentPage, itemsPerPage);\n  }\n  const collection = type === 'list' ? React.createElement(ListCollection, {\n    className: ComponentClassName.CollectionItems,\n    items: items,\n    ...rest\n  }) : type === 'grid' ? React.createElement(GridCollection, {\n    className: ComponentClassName.CollectionItems,\n    items: items,\n    ...rest\n  }) : null;\n  return React.createElement(Flex, {\n    testId: testId,\n    className: classNames(ComponentClassName.Collection, className)\n  }, isSearchable ? React.createElement(Flex, {\n    className: ComponentClassName.CollectionSearch\n  }, React.createElement(SearchField, {\n    label: searchLabel,\n    placeholder: searchPlaceholder,\n    onChange: e => onSearch(e.target.value),\n    onClear: () => setSearchText('')\n  })) : null, renderCollectionOrNoResultsFound(collection, items, searchNoResultsFound), isPaginated ? React.createElement(Flex, {\n    className: ComponentClassName.CollectionPagination\n  }, React.createElement(Pagination, {\n    ...pagination\n  })) : null);\n};\nCollection.displayName = 'Collection';\nexport { Collection };","map":{"version":3,"names":["ComponentClassName","classNames","React","debounce","Flex","Grid","Text","Pagination","usePagination","SearchField","ComponentText","strHasLength","getPageCount","getItemsAtPage","itemHasText","DEFAULT_PAGE_SIZE","TYPEAHEAD_DELAY_MS","ListCollection","_ref","children","direction","items","rest","createElement","Array","isArray","map","GridCollection","_ref2","renderCollectionOrNoResultsFound","collection","searchNoResultsFound","length","justifyContent","Collection","_ref3","className","isSearchable","isPaginated","itemsPerPage","searchFilter","searchLabel","searchButtonLabel","searchPlaceholder","type","testId","searchText","setSearchText","useState","onSearch","useCallback","filter","item","pagination","totalPages","currentPage","CollectionItems","CollectionSearch","label","placeholder","onChange","e","target","value","onClear","CollectionPagination","displayName"],"sources":["/Users/raphaperso/Documents/Hub/amplify_test/notes/node_modules/@aws-amplify/ui-react/dist/esm/primitives/Collection/Collection.mjs"],"sourcesContent":["import { ComponentClassName, classNames } from '@aws-amplify/ui';\nimport * as React from 'react';\nimport debounce from 'lodash/debounce.js';\nimport { Flex } from '../Flex/Flex.mjs';\nimport { Grid } from '../Grid/Grid.mjs';\nimport { Text } from '../Text/Text.mjs';\nimport { Pagination } from '../Pagination/Pagination.mjs';\nimport { usePagination } from '../Pagination/usePagination.mjs';\nimport { SearchField } from '../SearchField/SearchField.mjs';\nimport { ComponentText } from '../shared/constants.mjs';\nimport { strHasLength } from '../shared/utils.mjs';\nimport { getPageCount, getItemsAtPage, itemHasText } from './utils.mjs';\n\nconst DEFAULT_PAGE_SIZE = 10;\nconst TYPEAHEAD_DELAY_MS = 300;\nconst ListCollection = ({ children, direction = 'column', items, ...rest }) => (React.createElement(Flex, { direction: direction, ...rest }, Array.isArray(items) ? items.map(children) : null));\nconst GridCollection = ({ children, items, ...rest }) => (React.createElement(Grid, { ...rest }, Array.isArray(items) ? items.map(children) : null));\nconst renderCollectionOrNoResultsFound = (collection, items, searchNoResultsFound) => {\n    if (items.length) {\n        return collection;\n    }\n    if (searchNoResultsFound) {\n        return searchNoResultsFound;\n    }\n    return (React.createElement(Flex, { justifyContent: \"center\" },\n        React.createElement(Text, null, ComponentText.Collection.searchNoResultsFound)));\n};\n/**\n * [ðŸ“– Docs](https://ui.docs.amplify.aws/react/components/collection)\n */\nconst Collection = ({ className, isSearchable, isPaginated, items, itemsPerPage = DEFAULT_PAGE_SIZE, searchFilter = itemHasText, searchLabel = ComponentText.Collection.searchButtonLabel, searchNoResultsFound, searchPlaceholder, type = 'list', testId, ...rest }) => {\n    const [searchText, setSearchText] = React.useState();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const onSearch = React.useCallback(debounce(setSearchText, TYPEAHEAD_DELAY_MS), [setSearchText]);\n    // Make sure that items are iterable\n    items = Array.isArray(items) ? items : [];\n    // Filter items by text\n    if (isSearchable && strHasLength(searchText)) {\n        items = items.filter((item) => searchFilter(item, searchText));\n    }\n    // Pagination\n    const pagination = usePagination({\n        totalPages: getPageCount(items.length, itemsPerPage),\n    });\n    if (isPaginated) {\n        items = getItemsAtPage(items, pagination.currentPage, itemsPerPage);\n    }\n    const collection = type === 'list' ? (React.createElement(ListCollection, { className: ComponentClassName.CollectionItems, items: items, ...rest })) : type === 'grid' ? (React.createElement(GridCollection, { className: ComponentClassName.CollectionItems, items: items, ...rest })) : null;\n    return (React.createElement(Flex, { testId: testId, className: classNames(ComponentClassName.Collection, className) },\n        isSearchable ? (React.createElement(Flex, { className: ComponentClassName.CollectionSearch },\n            React.createElement(SearchField, { label: searchLabel, placeholder: searchPlaceholder, onChange: (e) => onSearch(e.target.value), onClear: () => setSearchText('') }))) : null,\n        renderCollectionOrNoResultsFound(collection, items, searchNoResultsFound),\n        isPaginated ? (React.createElement(Flex, { className: ComponentClassName.CollectionPagination },\n            React.createElement(Pagination, { ...pagination }))) : null));\n};\nCollection.displayName = 'Collection';\n\nexport { Collection };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}