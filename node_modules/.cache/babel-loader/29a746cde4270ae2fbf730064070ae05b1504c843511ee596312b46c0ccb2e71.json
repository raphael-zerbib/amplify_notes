{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst attributeIsSecondaryIndex = attr => {\n  return attr.type === 'key' &&\n  // presence of `name` property distinguishes GSI from primary index\n  attr.properties?.name && attr.properties?.queryField && attr.properties?.fields.length > 0;\n};\nconst getSecondaryIndexesFromSchemaModel = model => {\n  const idxs = model.attributes?.filter(attributeIsSecondaryIndex).map(attr => {\n    const queryField = attr.properties.queryField;\n    const [pk, ...sk] = attr.properties.fields;\n    return {\n      queryField,\n      pk,\n      sk\n    };\n  });\n  return idxs || [];\n};\nexport { getSecondaryIndexesFromSchemaModel };","map":{"version":3,"names":["attributeIsSecondaryIndex","attr","type","properties","name","queryField","fields","length","getSecondaryIndexesFromSchemaModel","model","idxs","attributes","filter","map","pk","sk"],"sources":["/Users/raphaperso/Documents/Hub/FreeCodeCamp/amplify_notes/node_modules/@aws-amplify/api-graphql/src/internals/clientUtils.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst attributeIsSecondaryIndex = (attr) => {\n    return (attr.type === 'key' &&\n        // presence of `name` property distinguishes GSI from primary index\n        attr.properties?.name &&\n        attr.properties?.queryField &&\n        attr.properties?.fields.length > 0);\n};\nexport const getSecondaryIndexesFromSchemaModel = (model) => {\n    const idxs = model.attributes\n        ?.filter(attributeIsSecondaryIndex)\n        .map((attr) => {\n        const queryField = attr.properties.queryField;\n        const [pk, ...sk] = attr.properties.fields;\n        return {\n            queryField,\n            pk,\n            sk,\n        };\n    });\n    return idxs || [];\n};\n"],"mappings":"AAAA;AACA;AACA,MAAMA,yBAAyB,GAAIC,IAAI,IAAK;EACxC,OAAQA,IAAI,CAACC,IAAI,KAAK,KAAK;EAC/B;EACQD,IAAI,CAACE,UAAU,EAAEC,IAAI,IACrBH,IAAI,CAACE,UAAU,EAAEE,UAAU,IAC3BJ,IAAI,CAACE,UAAU,EAAEG,MAAM,CAACC,MAAM,GAAG,CAAC;AAC1C,CAAC;AACW,MAACC,kCAAkC,GAAIC,KAAK,IAAK;EACzD,MAAMC,IAAI,GAAGD,KAAK,CAACE,UAAU,EACvBC,MAAM,CAACZ,yBAAyB,CAAC,CAClCa,GAAG,CAAEZ,IAAI,IAAK;IACf,MAAMI,UAAU,GAAGJ,IAAI,CAACE,UAAU,CAACE,UAAU;IAC7C,MAAM,CAACS,EAAE,EAAE,GAAGC,EAAE,CAAC,GAAGd,IAAI,CAACE,UAAU,CAACG,MAAM;IAC1C,OAAO;MACHD,UAAU;MACVS,EAAE;MACFC;IACZ,CAAS;EACT,CAAK,CAAC;EACF,OAAOL,IAAI,IAAI,EAAE;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}